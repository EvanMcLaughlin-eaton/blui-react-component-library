import Box from '@mui/material/Box';

import Drawer from './images/drawer.png';
import DrawerAnatomy from './images/drawerAnatomy.png';
import NavItemAnatomy from './images/navItemAnatomy.png';
import RailAnatomy from './images/railAnatomy.png';
import DrawerLayout from './images/drawerLayout.png';
import SharedProps from './SharedProps.mdx';

# Drawer

The `<Drawer>` component is a wrapper around the [Material UI Drawer](https://material-ui.com/api/drawer/) that adds specific Brightlayer UI functionality and styling. It is used to organize content (typically navigation links) in a collapsible side panel. The Brightlayer UI Drawer includes helper components for `<DrawerHeader>`, `<DrawerSubheader>`, `<DrawerBody>`, `<DrawerNavGroup>`, `<DrawerNavItem>`, `<DrawerRailItem>`, `<DrawerFooter>`, and `<DrawerLayout>` to help organize the content.

<Box
    sx={{
        width: '100%',
        textAlign: 'center',
    }}
>
    <Box
        sx={{
            width: '100%',
            maxWidth: '200px',
        }}
        component="img"
        alt="Nested Drawer"
        src={Drawer}
    />
</Box>

## Drawer

The `<Drawer>` component is the parent container, which manages the overall state of the drawer and renders the child components.

<Box
    sx={{
        width: '100%',
        textAlign: 'center',
    }}
>
    <Box
        sx={{
            width: '100%',
            maxWidth: '500px',
        }}
        component="img"
        alt="Drawer Anatomy"
        src={DrawerAnatomy}
    />
</Box>

### Drawer API

<Box>

| Prop Name                       | Description                                                                  | Type                                                         | Required | Default           |
| :------------------------------ | :--------------------------------------------------------------------------- | :----------------------------------------------------------- | :------- | :---------------- |
| activeItem                      | itemID for the 'active' item                                                 | `string`                                                     | no       |                   |
| classes                         | Style overrides                                                              | `DrawerClasses`                                              | no       |                   |
| condensed                       | Show condensed nav items without labels (`rail` variant only)                | `boolean`                                                    | no       | `false`           |
| noLayout                        | Set to true if used without a `<DrawerLayout>`                               | `boolean`                                                    | no       | `false`           |
| onItemSelect                    | A callback function to execute whenever an item is clicked                   | `(id: string) => void`                                       | no       |                   |
| open                            | Controls the open/closed state of the drawer                                 | `boolean`                                                    | yes      |                   |
| openOnHover                     | Automatically open the drawer on hover when closed (persistent variant only) | `boolean`                                                    | no       | `true`            |
| openOnHoverDelay                | Delay (ms) before triggering open on hover (persistent variant only)         | `number`                                                     | no       | `500`             |
| sideBorder                      | Whether to use a side border for the drawer instead of a shadow              | `boolean`                                                    | no       | `false`           |
| variant                         | The variant to use (see below)                                               | `'permanent'` \| `'persistent'` \| `'temporary'` \| `'rail'` | no       | `persistent`      |
| width                           | Sets the width of the drawer when open                                       | `number` \| `string`                                         | no       | `22.5rem (360px)` |
| [...sharedProps](#shared-props) | Props that can be set at any level in the drawer hierarchy                   | -                                                            | -        |                   |

</Box>

Any other props will be provided to the root element [**Material UI Drawer**](https://material-ui.com/api/drawer/).

The `Drawer` has four `variant`s:

-   **Permanent**: Always open, odd when `open` is set to false.
-   **Persistent**: When `open` is set to false, the `<Drawer>` collapses itself as a navigation rail, and hover will make it expand temporarily; when `open` is set to true, it behaves like a permanent `<Drawer>`.
-   **Temporary**: When `open` is set to false, the `<Drawer>` is hidden; when `open` is set to true, it slides in.
-   **Rail**: An always collapsed version of the `<Drawer>` that only displays an icons and titles.

> **Note on using multiple drawers**: If your application uses multiple `<Drawer>`s, each `<DrawerLayout>` will automatically adjust based on the state of the nearest `<Drawer>`. If you are using a `<Drawer>` without a `<DrawerLayout>`, you should set the `noLayout` property to true on the `<Drawer>` to prevent inadvertently affecting the styles of any `<DrawerLayout>`s.

### Style Overrides

You can override the default styles used by Brightlayer UI by:

-   using the `sx` prop
-   passing a `classes` prop with keys from the `Name` column below
-   using the `Global CSS Class` in your main stylesheet

For more details on styling options check out our [Styling Guide](https://github.com/brightlayer-ui/react-component-library/tree/master/docs#style-guide).

<Box>

| Name       | Global CSS Class       | Description                                                    |
| :--------- | :--------------------- | :------------------------------------------------------------- |
| root       | .BluiDrawer-root       | Styles applied to the root element                             |
| content    | .BluiDrawer-content    | Styles applied to the drawer content container                 |
| expanded   | .Mui-expanded          | Styles applied to the root element when the drawer is expanded |
| paper      | .BluiDrawer-paper      | MUI Drawer style override for the underlying paper element     |
| sideBorder | .BluiDrawer-sideBorder | Styles applied when sideBorder is set to true                  |

</Box>

## Drawer Body

The `<DrawerBody>` is a wrapper for the main content of the Drawer. The typical use case is to display `<DrawerNavGroup>` elements, but custom elements (e.g., for spacing) are accepted as well.

### Drawer Body API

<Box>

| Prop Name                       | Description                                                | Type                | Required | Default |
| ------------------------------- | ---------------------------------------------------------- | ------------------- | -------- | ------- |
| classes                         | Style overrides                                            | `DrawerBodyClasses` | no       |         |
| [...sharedProps](#shared-props) | Props that can be set at any level in the drawer hierarchy | -                   | -        |         |

</Box>

Any other props supplied will be provided to the root element (`div`).

#### Classes

You can override the classes used by Brightlayer UI by passing a `classes` prop. The `<DrawerBody>` supports the following keys:

<Box>

| Name | Description                        |
| ---- | ---------------------------------- |
| root | Styles applied to the root element |

</Box>

## Drawer Nav Item

The `<DrawerNavItem>` is an individual line item in the `<Drawer>`. These can be generated for you by using the `items` prop of the `<DrawerNavGroup>` and passing in an array of objects with the following API. You can also create these line items by directly passing them as children to the `<DrawerNavGroup>`. Each `<DrawerNavItem>` also supports the ability to nest items (using its own `items` prop or children). When using the rail variant of the `<Drawer>`, you should use `<DrawerRailItem>` instead (see below).

<Box
    sx={{
        width: '100%',
        textAlign: 'center',
    }}
>
    <Box
        sx={{
            width: '100%',
            maxWidth: '600px',
        }}
        component="img"
        alt="Nav Item Anatomy"
        src={NavItemAnatomy}
    />
</Box>

### Drawer Nav Item API

<Box>

| Prop Name                       | Description                                                                                                                                               | Type                      | Required | Default |
| ------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------- | -------- | ------- |
| classes                         | Style overrides                                                                                                                                           | `DrawerNavItemClasses`    | no       |         |
| depth\*                         | The nested depth of the item                                                                                                                              | `number`                  | no       | 0       |
| hidden                          | Sets whether to hide the nav item                                                                                                                         | `boolean`                 | no       |         |
| hidePadding                     | Remove left padding if no icon is used                                                                                                                    | `boolean`                 | no       | false   |
| icon                            | A component to render for the left icon                                                                                                                   | `JSX.Element`             | no       |         |
| isInActiveTree\*                | Sets whether the item is a parent of the currently active item (managed automatically)                                                                    | `boolean`                 | no       |         |
| itemID                          | A unique identifier of the NavItem. Item will have 'active' style when this matches activeItem                                                            | `string`                  | yes      |         |
| items                           | The items nested under this item                                                                                                                          | `NestedNavItem[]`         | no       |         |
| notifyActiveParent\*            | Callback function to the parent element to update active hierarchy styles                                                                                 | `(ids: string[]) => void` | no       |         |
| onClick                         | A function to execute when clicked                                                                                                                        | `function`                | no       |         |
| rightComponent                  | An icon/component to display to the right                                                                                                                 | `ReactNode`               | no       |         |
| statusColor                     | Status stripe and icon color                                                                                                                              | `string`                  | no       |         |
| subtitle                        | The text to show on the second line                                                                                                                       | `string`                  | no       |         |
| title                           | The text to show on the first line                                                                                                                        | `string`                  | yes      |         |
| disableRailTooltip              | Sets whether to disable the tooltip on hover for the condensed `rail` variant                                                                             | `boolean`                 | no       |         |
| InfoListItemProps               | Used to override [InfoListItem](https://brightlayer-ui-components.github.io/react/?path=/info/components-info-list-item--get-read-me-story) default props | `InfoListItemProps`       | no       |         |
| [...sharedProps](#shared-props) | Props that can be set at any level in the drawer hierarchy                                                                                                | -                         | -        |         |

</Box>

> \*These props are managed automatically when using the `<DrawerNavItem>` inside of a `<DrawerNavGroup>`.

### Style Overrides

You can override the default styles used by Brightlayer UI by:

-   using the `sx` prop
-   passing a `classes` prop with keys from the `Name` column below
-   using the `Global CSS Class` in your main stylesheet

For more details on styling options check out our [Styling Guide](https://github.com/brightlayer-ui/react-component-library/tree/master/docs#style-guide).

<Box>

| Name            | Global CSS Class                   | Description                                                       |
| --------------- | ---------------------------------- | ----------------------------------------------------------------- |
| root            | .BluiDrawerNavItem-root            | Styles applied to the root element                                |
| active          | .BluiDrawerNavItem-active\*        | Styles applied to the root element if the item is the active item |
| chevron         | .BluiDrawerNavItem-chevron         | Styles applied to the chevron element                             |
| expandIcon      | .BluiDrawerNavItem-expandIcon      | Styles applied to the expandIcon element                          |
| nestedListGroup | .BluiDrawerNavItem-nestedListGroup | Styles applied to wrapper surrounded nested children              |
| nestedTitle     | .BluiDrawerNavItem-nestedTitle     | Styles applied to the title if the item is a nested item          |
| title           | .BluiDrawerNavItem-title           | Styles applied to the title text                                  |
| titleActive     | .BluiDrawerNavItem-titleActive     | Styles applied to the title text if the item is the active item   |
| ripple          | .BluiDrawerNavItem-ripple          | Styles applied to the ripple                                      |

</Box>

> \* These classes can not be overridden via the `sx` prop.

### Tips

You can render the `<DrawerNavItem>` as a link by setting the `component` prop in the `InfoListItemProps` to a [`Link`](https://reactrouter.com/web/api/Link) component from `react-router-dom` (recommended), or the native HTML anchor tag `'a'`. This allows you to perform helpful actions such as opening a link in a new browser tab via right-click.

## Drawer Rail Item

When using the `rail` variant of the `<Drawer>`, you should use `<DrawerRailItem>` instead of `<DrawerNavItem>`. The `<DrawerRailItem>` is a simplified version of the `<DrawerNavItem>` that renders the `icon` and `title` only. When using the `condensed` version of the `<Drawer>`, the `title` will also be hidden. The `<DrawerRailItem>` cannot be nested.

<Box
    sx={{
        width: '100%',
        textAlign: 'center',
    }}
>
    <Box
        sx={{
            width: '100%',
            maxWidth: '600px',
        }}
        component="img"
        alt="Rail Anatomy"
        src={RailAnatomy}
    />
</Box>

### Drawer Rail Item API

<Box>

| Prop Name                       | Description                                                                                     | Type                    | Required | Default |
| ------------------------------- | ----------------------------------------------------------------------------------------------- | ----------------------- | -------- | ------- |
| classes                         | Style overrides                                                                                 | `DrawerRailItemClasses` | no       |         |
| condensed\*                     | Show condensed nav items without labels (`rail` variant only)                                   | `boolean`               | no       | `false` |
| hidden                          | Sets whether to hide the rail item                                                              | `boolean`               | no       |         |
| icon                            | A component to render for the left icon                                                         | `JSX.Element`           | yes      |         |
| itemID                          | An unique identifier of the NavItem. Item will have 'active' style when this matches activeItem | `string`                | yes      |         |
| onClick                         | A function to execute when clicked                                                              | `function`              | no       |         |
| statusColor                     | Status stripe and icon color                                                                    | `string`                | no       |         |
| title                           | The text to show on the first line                                                              | `string`                | no       |         |
| ButtonBaseProps                 | Used to override [ButtonBase](https://material-ui.com/api/button-base/) default props           | `InfoListItemProps`     | no       |         |
| disableRailTooltip              | Sets whether to disable the tooltip on hover                                                    | `boolean`               | no       |         |
| [...sharedProps](#shared-props) | Props that can be set at any level in the drawer hierarchy                                      | -                       | -        |         |

</Box>

> \*These props are managed automatically when using the `<DrawerRailItem>` inside of a `<Drawer>`.

### Style Overrides

You can override the default styles used by Brightlayer UI by:

-   using the `sx` prop
-   passing a `classes` prop with keys from the `Name` column below
-   using the `Global CSS Class` in your main stylesheet

For more details on styling options check out our [Styling Guide](https://github.com/brightlayer-ui/react-component-library/tree/master/docs#style-guide).

<Box>

| Name          | Global CSS Class                  | Description                                                     |
| ------------- | --------------------------------- | --------------------------------------------------------------- |
| root          | .BluiDrawerRailItem-root          | Styles applied to the root element                              |
| active        | .BluiDrawerRailItem-active        | Styles applied to the active element                            |
| condensed     | .BluiDrawerRailItem-condensed     | Styles applied to the root element when condensed is true       |
| divider       | .BluiDrawerRailItem-divider       | Styles applied to the divider element                           |
| icon          | .BluiDrawerRailItem-icon          | Styles applied to the icon wrapper                              |
| statusStripe  | .BluiDrawerRailItem-statusStripe  | Styles applied to the status stripe                             |
| title         | .BluiDrawerRailItem-title         | Styles applied to the title text                                |
| titleActive   | .BluiDrawerRailItem-titleActive   | Styles applied to the title text if the item is the active item |
| ripple        | .BluiDrawerRailItem-ripple        | Styles applied to the ripple                                    |
| cursorPointer | .BluiDrawerRailItem-cursorPointer | Styles applied to the root element when cursor is pointer       |
| itemActive    | .BluiDrawerRailItem-itemActive    | Styles applied to the active item                               |

</Box>

### Tips

You can render the `<DrawerRailItem>` as a link by setting the `component` prop in the `ButtonBaseProps` to a [`Link`](https://reactrouter.com/web/api/Link) component from `react-router-dom` (recommended), or the native HTML anchor tag `'a'`. This allows you to perform helpful actions such as opening a link in a new browser tab via right-click.

## Shared Props

The following props can be set at any level in the drawer hierarchy (`<Drawer>`, `<DrawerBody>`, `<DrawerNavGroup>`, `<DrawerNavItem>`, or `<DrawerRailItem>`). If they are set on a parent, they will be used for all children. For more customization, you can set these props on individual children and they will override any value set on the parent.

<Box>

| Name                      | Description                                               | Type      | Required | Default                     |
| :------------------------ | :-------------------------------------------------------- | :-------- | :------- | :-------------------------- |
| activeItemBackgroundColor | Background color for the 'active' item                    | `string`  | no       | varies for light/dark theme |
| activeItemFontColor       | Font color for the 'active' item                          | `string`  | no       | varies for light/dark theme |
| activeItemIconColor       | Icon color for the 'active' item                          | `string`  | no       | varies for light/dark theme |
| backgroundColor           | Color used for the background of the element              | `string`  | no       |                             |
| divider                   | Whether to show a line between all items                  | `boolean` | no       | false                       |
| itemFontColor             | The color used for the item text                          | `string`  | no       | varies for light/dark theme |
| itemIconColor             | The color used for the icon                               | `string`  | no       | varies for light/dark theme |
| ripple                    | Whether to apply material ripple effect to items on click | `boolean` | no       | true                        |

</Box>

## Drawer Layout

The `<DrawerLayout>` component is used to provide the appropriate resizing behavior for your main application content when used in conjunction with a Brightlayer UI `<Drawer>`. It accepts a `<Drawer>` as a prop, and the main page content is passed in through child elements.

<Box
    sx={{
        width: '100%',
        textAlign: 'center',
    }}
>
    <Box
        sx={{
            width: '100%',
            maxWidth: '600px',
        }}
        component="img"
        alt="DrawerLayout with labels"
        src={DrawerLayout}
    />
</Box>

### Drawer Layout API

<Box>

| Prop Name | Description                     | Type                                 | Required | Default |
| --------- | ------------------------------- | ------------------------------------ | -------- | ------- |
| classes   | Style overrides                 | `DrawerLayoutClasses`                | no       |         |
| drawer    | Drawer component to be embedded | `ReactElement<DrawerComponentProps>` | yes      |         |

</Box>

Any other props supplied will be provided to the root element (`div`).

> **Note on Scrolling**: When using client-side routing in your application, you may notice that the window scroll position does not reset when navigating to new routes. To address this issue, you will need to manually update the scroll position when new pages are loaded. If you are using React Router they have [several examples](https://reacttraining.com/react-router/web/guides/scroll-restoration) on how to implement this in your application.

### Style Overrides

You can override the default styles used by Brightlayer UI by:

-   using the `sx` prop
-   passing a `classes` prop with keys from the `Name` column below
-   using the `Global CSS Class` in your main stylesheet

For more details on styling options check out our [Styling Guide](https://github.com/brightlayer-ui/react-component-library/tree/master/docs#style-guide).

<SharedProps />
